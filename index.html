<!DOCTYPE html>
<html>
<head>
<title>Blinds Measurement & Quote</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body { font-family: Arial, sans-serif; padding: 10px; }
  input, select, button { font-size: 16px; padding: 6px; margin: 4px 0; width: 100%; }
  table { width: 100%; border-collapse: collapse; margin-top: 10px; }
  th, td { border: 1px solid #ccc; padding: 6px; text-align: center; }
  th { background-color: #f2f2f2; }
  .total { font-weight: bold; background-color: #e8f5e9; }
  .delete-btn { background: red; color: white; border: none; padding: 5px 10px; cursor: pointer; }
</style>
</head>
<body>

<h2>Blinds Measurement & Quote</h2>

<label>Date:</label>
<input type="date" id="quoteDate">

<label>Customer Name:</label>
<input type="text" id="customerName" placeholder="Enter customer name">

<button onclick="addWindow()">+ Add Window</button>

<table id="blindsTable">
  <tr>
    <th>Window Name</th>
    <th>Width (m)</th>
    <th>Length (m)</th>
    <th>Area (mÂ²)</th>
    <th>Operation</th>
    <th>Price ($)</th>
    <th>Action</th>
  </tr>
</table>

<table>
  <tr class="total">
    <td colspan="3">TOTAL</td>
    <td id="totalArea">0.0000</td>
    <td></td>
    <td id="totalPrice">$0.00</td>
    <td></td>
  </tr>
</table>

<script>
function addWindow() {
  let table = document.getElementById("blindsTable");
  let row = table.insertRow(-1);

  let nameCell = row.insertCell(0);
  let widthCell = row.insertCell(1);
  let lengthCell = row.insertCell(2);
  let areaCell = row.insertCell(3);
  let opCell = row.insertCell(4);
  let priceCell = row.insertCell(5);
  let actionCell = row.insertCell(6);

  nameCell.innerHTML = `<input type="text" placeholder="Window name" oninput="updateTotals()">`;
  widthCell.innerHTML = `<input type="number" step="0.0001" placeholder="Width" oninput="updateTotals()">`;
  lengthCell.innerHTML = `<input type="number" step="0.0001" placeholder="Length" oninput="updateTotals()">`;
  areaCell.innerHTML = `0.0000`;
  opCell.innerHTML = `
    <select onchange="updateTotals()">
      <option value="Manual">Manual</option>
      <option value="Motorised">Motorised</option>
    </select>
  `;
  priceCell.innerHTML = `$0.00`;
  actionCell.innerHTML = `<button class="delete-btn" onclick="deleteRow(this)">X</button>`;
}

function deleteRow(btn) {
  let row = btn.parentNode.parentNode;
  row.parentNode.removeChild(row);
  updateTotals();
}

function updateTotals() {
  let table = document.getElementById("blindsTable");
  let totalArea = 0;
  let totalPrice = 0;

  for (let i = 1; i < table.rows.length; i++) {
    let width = parseFloat(table.rows[i].cells[1].children[0].value) || 0;
    let length = parseFloat(table.rows[i].cells[2].children[0].value) || 0;
    let area = width * length;
    table.rows[i].cells[3].innerHTML = area.toFixed(4);

    let operation = table.rows[i].cells[4].children[0].value;
    let price = area * 35;
    if (operation === "Motorised") {
      price += 100;
    }
    table.rows[i].cells[5].innerHTML = `$${price.toFixed(2)}`;

    totalArea += area;
    totalPrice += price;
  }

  document.getElementById("totalArea").innerHTML = totalArea.toFixed(4);
  document.getElementById("totalPrice").innerHTML = `$${totalPrice.toFixed(2)}`;
}
</script>

</body>
</html>
